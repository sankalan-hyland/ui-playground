<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="../bower_components/polymer/polymer-element.html">
<link rel="import" href="shared-styles.html">
<!-- <script src="@nuxeo/nuxeo-elements/nuxeo-connection.js" charset="utf-8"></script>
<script src="@nuxeo/nuxeo-elements/nuxeo-document.js" charset="utf-8"></script> -->

<dom-module id="my-doc-reader">
  <template>
    <nuxeo-connection id="nxcon" url="http://localhost:8080/nuxeo" username="Administrator" password="Administrator"></nuxeo-connection>
    <nuxeo-document id="doc" auto doc-path="/default-domain/" response="{{document}}"></nuxeo-document>
    <style>
        :host {
            display: block;
            padding: 10px;
        }
    </style>
    <div class="card">
        <h1>Doc Reader</h1>
        <h2>Title: [[document.title]]</h2>
        <p>ID: [[document.uid]]</p>
        <p>Repository: [[document.repository]]</p>
        <p>State: [[document.state]]</p>
        <h3>Contributors:</h3>
        <ul>
        <template is="dom-repeat" items="[[document.properties.dc:contributors]]" as="contributor">
            <li>[[contributor]]</li>
        </template>
        </ul>
    </div>
  </template>

  <script>
    class MyDocReader extends Polymer.Element {
      static get is() { return 'my-doc-reader'; }
    }

    window.customElements.define(MyDocReader.is, MyDocReader);
  </script>
</dom-module>
